---
title: 'Assignment: Codes: Definitions and Theorems, Due Monday, 11:59pm'
author: "Jared Wada"
date: "November 21, 2016"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = NA)
library(gmp)
library(cryptoJKAW)
```

## 1. Non-Perfect Code

Make up an example of a linear code with 16 code words that isn't perfect. List the 16 code words, and give a generating matrix. 

```{r}
imperfect <- matrix(c(1,1,1,0,1,1,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0,0,1,1), nrow=4, byrow=TRUE)
isPerfect(generateCode(imperfect))
generateCode(imperfect)
```
## 2. Check bounds

Consider the code generated by the following matrix.
$$
B = \begin{bmatrix} 1 & 0 & 0 & 1 & 1 & 0 \\ 0 & 1 & 0 & 0 & 1 & 1 \\ 0 & 0 & 1 & 1 & 0 & 1 \end{bmatrix}
$$

a. List all the code words.
```{r}
B <- matrix(c(1,0,0,1,1,0,
0,1,0,0,1,1,
0,0,1,1,0,1), nrow = 3, byrow = TRUE)
generateCode(B)
```
b. Calculate the code rate of this code.
```{r}
log2(8) # is 3
ncol(B) # is 6
3/6
```
c. Is this code a maximum distance separable (MDS) code? Prove or disprove.
```{r}
n <- ncol(B)
M <- nrow(generateCode(B))
d <- codeDistance(generateCode(B))
M == 2^(n-d+1) # because this is false, it isn't MDS code
```
d. Is this code a perfect code? Prove or disprove.
```{r}
isPerfect(generateCode(B))
```
## 3. Perfect repetition codes

Prove that a $k$ repetition code is perfect if and only if $k$ is odd.
Prove that a k repetition code is perfect if and only if k is odd.

Repetition codes have two code words, a series of 0s or series of 1s, so M = 2

To check if a Code is perfect we check if M is less than or equal to 2^k divided by the sum from a number,i, 
0 to t of n choose i.

We know M is 2, so the numerator has to be at least double the denominator. The minimum distance between the two codes is k, as they are complete opposites.

Using some algebra we get the following:

If k is odd, we have t = (k-1)/2. If k is even we have t = k/2 - 1.

Assuming k is odd we can get the denominator to equal 2^(k-1), giving us 2^{k} / (2^(k-1)), giving us 2 == 2.

If the k was even we would have 2^(k) / (2^k).



## 4. $8 \times 8$ Hadamard code

Here's an $8 \times 8$ Hadamard matrix:

$$
B = \begin{bmatrix} 
1 & 1 & 1 & -1 & 1 & -1 & -1 & -1 \\ 
1 & 1 & -1 & -1 & -1 & 1 & -1 & 1 \\ 
1 & -1 & 1 & 1 & -1 & -1 & -1 & 1 \\ 
1 & -1 & 1 & -1 & -1 & 1 & 1 & -1 \\ 
1 & -1 & -1 & -1 & 1 & -1 & 1 & 1 \\ 
1 & 1 & -1 & 1 & -1 & -1 & 1 & -1 \\ 
1 & -1 & -1 & 1 & 1 & 1 & -1 & -1 \\ 
1 & 1 & 1 & 1 & 1 & 1 & 1 & 1  
\end{bmatrix}
$$

a. Is the corresponding $8\times 8$ Hadamard code (with $-1$'s replaced by $0$'s) a linear code? Explain why or why not.

```{r}
Hmat <- matrix(c(1,1,1,0,1,0,0,0,
1,1,0,0,0,1,0,1,
1,0,1,1,0,0,0,1,
1,0,1,0,0,1,1,0,
1,0,0,0,1,0,1,1,
1,1,0,1,0,0,1,0,
1,0,0,1,1,1,0,0,
1,1,1,1,1,1,1,1), nrow=8, byrow=TRUE)
```
After doing many calculations on paper, I can tell that this is linear, because each pair of codes adds up to another in the matrix.

b. Is this Hadamard code perfect? Prove or disprove.
```{r}
isPerfect(generateCode(Hmat))
```
